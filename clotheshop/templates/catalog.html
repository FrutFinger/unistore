{% extends 'base.html' %}
{% load static %}
{% block content %}
<h1 class="page-title">–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤</h1>
<link rel="stylesheet" href="{% static 'css/catalog.css' %}?v=1">

<!-- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è -->
<form method="get" class="filter-form">
    <label>–¢–∏–ø:
        <select name="type">
            <option value="">–í—Å–µ</option>
            <option value="–ë–µ—Ä–º—É–¥—ã">–ë–µ—Ä–º—É–¥—ã</option>
            <option value="–ë—Ä—é–∫–∏">–ë—Ä—é–∫–∏</option>
            <option value="–î–∂–∏–Ω—Å—ã">–î–∂–∏–Ω—Å—ã</option>
            <option value="–ö–µ–ø–∫–∞">–ö–µ–ø–∫–∞</option>
            <option value="–ö–æ—Å—Ç—é–º">–ö–æ—Å—Ç—é–º</option>
            <option value="–ö—É—Ä—Ç–∫–∞">–ö—É—Ä—Ç–∫–∞</option>
            <option value="–õ–æ–Ω–≥—Å–ª–∏–≤">–õ–æ–Ω–≥—Å–ª–∏–≤</option>
            <option value="–ü–ª–∞—Ç—å–µ">–ü–ª–∞—Ç—å–µ</option>
            <option value="–†—É–±–∞—à–∫–∞">–†—É–±–∞—à–∫–∞</option>
            <option value="–°–≤–∏—Ç–µ—Ä">–°–≤–∏—Ç–µ—Ä</option>
            <option value="–°–≤–∏—Ç—à–æ—Ç">–°–≤–∏—Ç—à–æ—Ç</option>
            <option value="–§—É—Ç–±–æ–ª–∫–∞">–§—É—Ç–±–æ–ª–∫–∞</option>
            <option value="–•—É–¥–∏">–•—É–¥–∏</option>
            <option value="–®–∞–ø–∫–∞">–®–∞–ø–∫–∞</option>
            <option value="–®–æ—Ä—Ç—ã">–®–æ—Ä—Ç—ã</option>
            <option value="–Æ–±–∫–∞">–Æ–±–∫–∞</option>
        </select>
    </label>
    <label>–¶–µ–Ω–∞ –æ—Ç:
        <input type="number" name="price_from" min="0">
    </label>
    <label>–¥–æ:
        <input type="number" name="price_to" min="0">
    </label>

    <button type="submit">–§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å</button>
    <a href="{% url 'catalog' %}" style="text-decoration: none;">
        <button type="button" style="background-color: #888; margin-left: 0.5rem;">
            –°–±—Ä–æ—Å–∏—Ç—å
        </button>
    </a>
</form>

<div class="background-pattern">
    <img src="{% static 'svg/bg_1.svg' %}" class="bg-shape bg-1">
    <img src="{% static 'svg/bg_2.svg' %}" class="bg-shape bg-2">
    <img src="{% static 'svg/bg_3.svg' %}" class="bg-shape bg-3">
    <img src="{% static 'svg/bg_4.svg' %}" class="bg-shape bg-4">
    <img src="{% static 'svg/bg_5.svg' %}" class="bg-shape bg-5">
    <img src="{% static 'svg/bg_6.svg' %}" class="bg-shape bg-6">
    <img src="{% static 'svg/bg_7.svg' %}" class="bg-shape bg-7">
    <img src="{% static 'svg/bg_8.svg' %}" class="bg-shape bg-8">
</div>

<!-- –°–µ—Ç–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ -->
<div class="product-grid">
    {% for product in products %}
    <div class="product-card">
        <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ -->
        <div class="product-image">
            {% if product.image %}
                <img src="{{ product.image.url }}" alt="{{ product.name }}">
            {% else %}
                <img src="{% static 'images/item_placeholder.png' %}" alt="{{ product.name }}">
            {% endif %}
        </div>

        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="product-card-content">
            <h3 style="margin-top: 0.5rem; font-size: 1.25rem;">{{ product.name }}</h3>

            <p class="product-price">
                {{ product.price }} ‚ÇΩ
            </p>

            <!-- –ö–Ω–æ–ø–∫–∏ -->
            <div class="product-buttons">
                <a href="{% url 'product_detail' product.id %}">
                    <button type="button">üëú –ü—Ä–∏–æ–±—Ä–µ—Å—Ç–∏</button>
                </a>
                <form method="post" action="{% url 'add_to_favorites' product.id %}">
                    {% csrf_token %}
                    <button type="submit">‚ù§Ô∏è</button>
                </form>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
