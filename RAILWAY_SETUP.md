# Настройка Railway для Django проекта

## Переменные окружения в Railway

Убедитесь, что в настройках Railway (Variables) установлены следующие переменные:

### Обязательные переменные:
- `SECRET_KEY`: `6*%q5mnxa9c#845d)vqp-3q2j4ec&t3dm&(cn=7kvl$-8m36ui`
- `DEBUG`: `False`
- `DATABASE_URL`: Автоматически устанавливается Railway при подключении PostgreSQL

### Дополнительные переменные (опционально):
- `ALLOWED_HOSTS`: `uniclothes.up.railway.app,localhost,127.0.0.1`

## Проверка деплоя

1. После пуша в GitHub, Railway автоматически пересоберет проект
2. В логах Railway должна появиться команда `release: python manage.py migrate`
3. После успешного применения миграций запустится веб-сервер

## Возможные проблемы

### 400 Bad Request
- Проверьте, что SECRET_KEY в Railway совпадает с тем, что в коде
- Убедитесь, что DEBUG=False в продакшене
- Проверьте, что ALLOWED_HOSTS содержит ваш домен

### Проблемы с базой данных
- Убедитесь, что PostgreSQL подключен к проекту
- Проверьте, что миграции применяются (команда release в Procfile)
- В Railway Dashboard -> Data должен показываться ваш проект

### Проблемы со статическими файлами
- WhiteNoise автоматически обрабатывает статические файлы
- Убедитесь, что все статические файлы находятся в папке `clotheshop/static/`

## Команды для отладки

Если нужно проверить логи:
1. В Railway Dashboard перейдите в раздел "Deployments"
2. Выберите последний деплой и посмотрите логи

Если нужно применить миграции вручную:
1. В Railway Dashboard перейдите в "Variables"
2. Добавьте переменную `COMMAND` со значением `python manage.py migrate`
3. Перезапустите деплой 